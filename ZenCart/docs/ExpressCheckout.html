<h1>是否可以下单？</h1>
<ul>
	<li>购物车为空，跳回购物车
		<pre>
if ($_SESSION['cart']->count_contents() <= 0 ) {			
}
		</pre>
	</li>
	<li>未登陆，跳到登陆页，SSL</li>
	<li>已登陆，检查该用户是否存在</li>
	<li>收货地址检查，如果有分包，则检查分包的收货地址
		<p>* 地址是否存在：不存在则跳转到个人中心地址管理页面，让用户完善地址信息</p>
		<p>* 地址是否正确，相应字段的数据是否正确填写，如俄罗斯必须填写父姓</p>
	</li>
	<li>总金额是否超额，如10000RMB</li>
	<li>只允许购买一件的产品，如果在购物车存在多件，则置数量为1，并更新数据库的数据</li>
	<li>只允许购买一件的产品，如果已购买过，则删除购物车和分包中相应的产品</li>
	<li>是否包含多个仓库的产品，如果是分包，每个分包的产品所在的仓库必须相同，否则检查所有的产品是否属于同一个仓库</li>
	<li>如果是属性产品，检查属性是否正常</li>
	<li>库存检查</li>
	<li>如果使用paypal，必须选择收货国家</li>
	<li>如果重量大于2kg，或者金额>$500，必须填写联系电话</li>
</ul>

<h1>模块</h1>
<ul>
	<li>Payment Method（支付方式）
		<p>* 如果用户选择其中一种支付，则使用此种支付方式，并记录到cookie，2分钟生存周期</p>
		<p>* 如果用户没有选择，则使用上一次选择的支付方式，即cooke里面的支付方式</p>
		<p>* 否则，使用最后一次下单时使用的支付方式</p>
		<p>* 都不存在，默认使用paypal</p>
	</li>
	<li>Shipping Address（收货地址）</li>
	<li>Shipping Method（运输方式）
		<p>分包</p>
		<p>未分包</p>
	</li>
	<li>折扣码</li>
	<li>积分换购</li>
	<li>订单备注</li>
	<li>Order Information：</li>
</ul>

